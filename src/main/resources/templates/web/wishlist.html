<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Broccoli - Organic Food HTML Template</title>
    <meta name="robots" content="noindex, follow"/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="shortcut icon" th:href="@{/web/img/favicon.png}" type="image/x-icon"/>
    <!-- Font Icons css -->
    <link rel="stylesheet" th:href="@{/web/css/font-icons.css}">
    <!-- plugins css -->
    <link rel="stylesheet" th:href="@{/web/css/plugins.css}">
    <!-- Main Stylesheet -->
    <link rel="stylesheet" th:href="@{/web/css/style.css}">
    <!-- Responsive css -->
    <link rel="stylesheet" th:href="@{/web/css/responsive.css}">

    <style>
        .liton__wishlist-area .shoping-cart-table {
            overflow-x: auto;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border-radius: 8px;
        }

        .liton__wishlist-area .table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            background: #fff;
            margin: 0;
        }

        .liton__wishlist-area .table thead th {
            background-color: #2f3542;
            color: #fff;
            padding: 15px 10px;
            text-align: center;
            font-weight: 600;
            font-family: 'Segoe UI', Roboto, sans-serif;
            border-bottom: 2px solid #404756;
        }

        .liton__wishlist-area .cart-product-remove {
            width: 5%;
        }

        .liton__wishlist-area .cart-product-image {
            width: 10%;
        }

        .liton__wishlist-area .cart-product-info {
            width: 30%;
        }

        .liton__wishlist-area .cart-product-price {
            width: 25%;
        }

        .liton__wishlist-area .cart-product-stock {
            width: 15%;
        }

        .liton__wishlist-area .cart-product-add-cart {
            width: 25%;
        }

        .liton__wishlist-area .table td {
            padding: 15px 10px;
            vertical-align: middle;
            text-align: center;
            border-bottom: 1px solid #f1f2f6;
            font-family: 'Segoe UI', Roboto, sans-serif;
            line-height: 1.4;
        }

        .liton__wishlist-area .cart-product-image img {
            width: 70px;
            height: 70px;
            object-fit: contain;
            border-radius: 4px;
            border: 1px solid #f1f2f6;
            display: block;
            margin: 0 auto;
        }

        .liton__wishlist-area .cart-product-info a {
            color: #2f3542;
            font-weight: 500;
            transition: color 0.3s ease;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 100%;
        }

        .liton__wishlist-area .cart-product-info a:hover {
            color: #ff6b6b;
            text-decoration: none;
        }

        .liton__wishlist-area .cart-product-price {
            font-weight: bold;
            color: #da1212;
        }

        .remove-wishlist {
            color: #a4b0be;
            transition: all 0.3s ease;
            display: inline-block;
            width: 30px;
            height: 30px;
            line-height: 30px;
            border-radius: 50%;
        }

        .remove-wishlist:hover {
            color: #ff6b6b;
            background-color: rgba(255, 107, 107, 0.1);
        }

        .stock-badge {
            display: inline-block;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
        }

        .badge.bg-success {
            background-color: rgba(46, 213, 115, 0.1) !important;
            color: #2ed573;
        }

        .badge.bg-danger {
            background-color: rgba(255, 71, 87, 0.1) !important;
            color: #ff4757;
        }

        .btn-theme-primary {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            font-weight: 500;
            transition: all 0.3s ease;
            width: 140px;
            max-width: 100%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-theme-primary:hover {
            background: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.2);
        }

        @media (max-width: 768px) {
            .liton__wishlist-area .table {
                min-width: 800px;
            }

            .liton__wishlist-area .cart-product-info {
                min-width: 200px;
            }

            .btn-theme-primary {
                padding: 8px 15px;
                font-size: 14px;
                width: 120px;
            }

            .stock-badge {
                padding: 5px 12px;
            }
        }

        .liton__wishlist-area .table td,
        .liton__wishlist-area .table th {
            vertical-align: middle !important;
            text-align: center !important;
        }

        .liton__wishlist-area .cart-product-info {
            text-align: left !important;
            padding-left: 20px !important;
        }
    </style>
</head>

<body>
<div class="body-wrapper">

    <div th:replace="~{web/header :: header}"></div>

    <div class="ltn__utilize-overlay"></div>

    <!-- BREADCRUMB AREA START -->
    <div class="ltn__breadcrumb-area  ltn__breadcrumb-color-white bg-overlay-theme-black-90 bg-image"
         data-bg="img/bg/9.jpg">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ltn__breadcrumb-inner ltn__breadcrumb-inner-2 justify-content-between">
                        <div class="section-title-area ltn__section-title-2">
                            <h6 class="section-subtitle ltn__secondary-color"
                                style="font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; font-weight: 500;">
                                // Chào mừng đến với cửa hàng chúng tôi</h6>
                            <h1 class="section-title white-color">Yêu thích</h1>
                        </div>
                        <div class="ltn__breadcrumb-list">
                            <ul>
                                <li><a th:href="@{/index}">Trang chủ</a></li>
                                <li>Yêu thích</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- BREADCRUMB AREA END -->

    <!-- WISHLIST AREA START -->
    <div class="liton__wishlist-area mb-105">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="shoping-cart-inner">
                        <div class="shoping-cart-table table-responsive">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th class="cart-product-remove text-center">Xóa</th>
                                    <th class="cart-product-image text-center">Ảnh</th>
                                    <th class="cart-product-info text-center">Tên sản phẩm</th>
                                    <th class="cart-product-price text-center">Giá</th>
                                    <th class="cart-product-stock text-center">Tình trạng</th>
                                    <th class="cart-product-add-cart text-center">Thao tác</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="favorite : ${favorites}">
                                    <td class="text-center">
                                        <a href="#" class="remove-wishlist"
                                           th:data-product-id="${favorite.product.productId}">
                                            <i class="fas fa-trash"></i>
                                        </a>
                                    </td>

                                    <td class="cart-product-image text-center">
                                        <img th:src="@{/uploads/main/{filename}(filename=${favorite.product.productImage})}"
                                             alt="Product Image"
                                             style="width:60px; height:60px; object-fit:contain;">
                                    </td>

                                    <td class="cart-product-info text-center">
                                        <a th:href="@{/product-details/{id}(id=${favorite.product.productId})}"
                                           th:text="${favorite.product.productName}">
                                        </a>
                                    </td>

                                    <td class="cart-product-price text-center"
                                        th:attr="data-value=${favorite.product.price}">
                                        <span th:text="${favorite.product.price != null} ? ${favorite.product.price} + ' VND' : 'N/A'"></span>
                                    </td>

                                    <td class="cart-product-stock text-center">
                                    <span th:text="${favorite.product.status ? 'Còn hàng' : 'Hết hàng'}"
                                          th:class="${favorite.product.status} ? 'badge bg-success' : 'badge bg-danger'">
                                    </span>
                                    </td>

                                    <td class="cart-product-add-cart text-center">
                                        <button class="btn theme-btn-1 btn-effect-1 product-add1"
                                                th:data-product-id="${favorite.product.productId}"
                                                style="font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; font-weight: 500;">
                                            <i class="fas fa-shopping-cart"></i> Thêm giỏ
                                        </button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- WISHLIST AREA END -->


    <div th:replace="~{web/footer :: footer}"></div>
</div>

<script th:src="@{/web/js/plugins.js}"></script>
<script th:src="@{/web/js/main.js}"></script>
<script th:src="@{/web/js/newmain.js}"></script>
<script th:src="@{/web/js/favorite.js}"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('.cart-product-price').forEach(element => {
            let price = element.getAttribute('data-value');
            if (price && !isNaN(price)) {
                element.textContent = Number(price).toLocaleString('vi-VN', {style: 'currency', currency: 'VND'});
            }
        });
    });
</script>
</body>
</html>

